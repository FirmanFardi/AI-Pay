<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayNex - Merchant Onboarding</title>
    <!-- PRIORITY: bump `v=` when deploying updates (GitHub Pages cache-buster) -->
    <link rel="stylesheet" href="styles.css?v=20260110.2">
    <style>
        /* Standalone Onboarding Page Styles */
        body {
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #0a0a0f 100%);
            background-attachment: fixed;
            min-height: 100vh;
            padding: 2rem;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 245, 255, 0.08) 0%, transparent 70%);
            animation: rotate 25s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .onboarding-wrapper {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .onboarding-header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInDown 0.8s ease;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .onboarding-logo {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #00f5ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .onboarding-subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--accent-neon-cyan);
            text-decoration: none;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            color: var(--text-primary);
            transform: translateX(-5px);
        }
    </style>
</head>
<body>
    <div class="onboarding-wrapper">
        <a href="index.html" class="back-link">
            <span>‚Üê</span>
            <span>Back to Dashboard</span>
        </a>

        <div class="onboarding-header">
            <div class="onboarding-logo logo-switch" id="paynex-logo-standalone" role="button" tabindex="0" aria-label="PayNex logo. Click to change style." title="Click to change PayNex logo style" data-logo-variant="classic">
                <span class="logo-variant logo-variant-classic" data-variant="classic" aria-hidden="true">
                    <span class="logo-pay">Pay</span><span class="logo-nex">Nex</span>
                </span>
                <span class="logo-variant logo-variant-simple" data-variant="simple" aria-hidden="true" hidden>PayNex</span>
                <span class="logo-variant logo-variant-minimal" data-variant="minimal" aria-hidden="true" hidden><span class="logo-mark">PN</span></span>
                <span class="logo-variant logo-variant-futuristic" data-variant="futuristic" aria-hidden="true" hidden>PAY<span class="logo-fx">NEX</span></span>
            </div>
            <div class="onboarding-subtitle">Merchant Onboarding Portal</div>
        </div>

        <div class="onboarding-container">
            <div class="onboarding-card">
                <!-- Progress Steps -->
                <div class="onboarding-progress">
                    <div class="progress-step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">Business Info</div>
                    </div>
                    <div class="progress-line"></div>
                    <div class="progress-step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">Bank Details</div>
                    </div>
                    <div class="progress-line"></div>
                    <div class="progress-step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">Documents</div>
                    </div>
                    <div class="progress-line"></div>
                    <div class="progress-step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-label">Review</div>
                    </div>
                </div>

                <!-- Step 1: Business Information -->
                <div class="onboarding-step active" id="step-1" style="display: block;">
                    <h2 class="step-title">Business Information</h2>
                    <p class="step-subtitle">Please provide your business details</p>
                    
                    <div class="form-group">
                        <label>Business Name *</label>
                        <input type="text" class="form-input" id="business-name" placeholder="Enter business name" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Business Registration Number (SSM/ROC) *</label>
                        <input type="text" class="form-input" id="business-reg" placeholder="e.g., 123456-A" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Business Type *</label>
                        <select class="form-input" id="business-type" required>
                            <option value="">Select business type</option>
                            <option value="sole-proprietor">Sole Proprietor</option>
                            <option value="partnership">Partnership</option>
                            <option value="sdn-bhd">Sdn Bhd</option>
                            <option value="bhd">Bhd</option>
                            <option value="llp">Limited Liability Partnership (LLP)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Business Address *</label>
                        <textarea class="form-input" id="business-address" rows="3" placeholder="Enter full business address" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>City *</label>
                            <input type="text" class="form-input" id="business-city" placeholder="City" required>
                        </div>
                        <div class="form-group">
                            <label>Postal Code *</label>
                            <input type="text" class="form-input" id="business-postal" placeholder="Postal code" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>State *</label>
                        <select class="form-input" id="business-state" required>
                            <option value="">Select state</option>
                            <option value="johor">Johor</option>
                            <option value="kedah">Kedah</option>
                            <option value="kelantan">Kelantan</option>
                            <option value="kl">Kuala Lumpur</option>
                            <option value="labuan">Labuan</option>
                            <option value="melaka">Melaka</option>
                            <option value="negeri-sembilan">Negeri Sembilan</option>
                            <option value="pahang">Pahang</option>
                            <option value="penang">Penang</option>
                            <option value="perak">Perak</option>
                            <option value="perlis">Perlis</option>
                            <option value="putrajaya">Putrajaya</option>
                            <option value="sabah">Sabah</option>
                            <option value="sarawak">Sarawak</option>
                            <option value="selangor">Selangor</option>
                            <option value="terengganu">Terengganu</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Contact Email *</label>
                        <input type="email" class="form-input" id="contact-email" placeholder="business@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Contact Phone *</label>
                        <input type="tel" class="form-input" id="contact-phone" placeholder="+60 12-345 6789" required>
                    </div>
                </div>

                <!-- Step 2: Bank Account Details -->
                <div class="onboarding-step" id="step-2" style="display: none;">
                    <h2 class="step-title">Bank Account Information</h2>
                    <p class="step-subtitle">Where we'll send your payouts</p>
                    
                    <div class="form-group">
                        <label>Account Holder Name *</label>
                        <input type="text" class="form-input" id="account-name" placeholder="Account holder name" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Bank Name *</label>
                        <select class="form-input" id="bank-name" required>
                            <option value="">Select bank</option>
                            <option value="maybank">Maybank</option>
                            <option value="cimb">CIMB Bank</option>
                            <option value="public">Public Bank</option>
                            <option value="rhb">RHB Bank</option>
                            <option value="hong-leong">Hong Leong Bank</option>
                            <option value="ambank">AmBank</option>
                            <option value="uob">UOB Bank</option>
                            <option value="ocbc">OCBC Bank</option>
                            <option value="hsbc">HSBC Bank</option>
                            <option value="standard-chartered">Standard Chartered</option>
                            <option value="affin">Affin Bank</option>
                            <option value="alliance">Alliance Bank</option>
                            <option value="bank-islam">Bank Islam</option>
                            <option value="bsn">Bank Simpanan Nasional</option>
                            <option value="bank-rakyat">Bank Rakyat</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Account Number *</label>
                        <input type="text" class="form-input" id="account-number" placeholder="Enter account number" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Account Type *</label>
                        <select class="form-input" id="account-type" required>
                            <option value="">Select account type</option>
                            <option value="current">Current Account</option>
                            <option value="savings">Savings Account</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Bank Statement (Last 3 months) *</label>
                        <div class="file-upload">
                            <input type="file" class="file-input" id="bank-statement" accept=".pdf,.jpg,.jpeg,.png" required>
                            <label for="bank-statement" class="file-label">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-text">Upload Bank Statement</span>
                            </label>
                            <span class="file-name" id="bank-statement-name"></span>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Documents Upload -->
                <div class="onboarding-step" id="step-3" style="display: none;">
                    <h2 class="step-title">Required Documents</h2>
                    <p class="step-subtitle">Please upload the following documents for verification</p>
                    
                    <div class="form-group">
                        <label>Business Registration Certificate (SSM/ROC) *</label>
                        <div class="file-upload">
                            <input type="file" class="file-input" id="business-cert" accept=".pdf,.jpg,.jpeg,.png" required>
                            <label for="business-cert" class="file-label">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-text">Upload Business Certificate</span>
                            </label>
                            <span class="file-name" id="business-cert-name"></span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Identity Card (IC) / Passport (Director/Owner) *</label>
                        <div class="file-upload">
                            <input type="file" class="file-input" id="ic-passport" accept=".pdf,.jpg,.jpeg,.png" required>
                            <label for="ic-passport" class="file-label">
                                <span class="file-icon">üÜî</span>
                                <span class="file-text">Upload IC/Passport</span>
                            </label>
                            <span class="file-name" id="ic-passport-name"></span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Proof of Address (Utility Bill / Bank Statement) *</label>
                        <div class="file-upload">
                            <input type="file" class="file-input" id="proof-address" accept=".pdf,.jpg,.jpeg,.png" required>
                            <label for="proof-address" class="file-label">
                                <span class="file-icon">üè†</span>
                                <span class="file-text">Upload Proof of Address</span>
                            </label>
                            <span class="file-name" id="proof-address-name"></span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Additional Documents (Optional)</label>
                        <div class="file-upload">
                            <input type="file" class="file-input" id="additional-docs" accept=".pdf,.jpg,.jpeg,.png" multiple>
                            <label for="additional-docs" class="file-label">
                                <span class="file-icon">üìé</span>
                                <span class="file-text">Upload Additional Documents</span>
                            </label>
                            <span class="file-name" id="additional-docs-name"></span>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Review and Submit -->
                <div class="onboarding-step" id="step-4" style="display: none;">
                    <h2 class="step-title">Review & Submit</h2>
                    <p class="step-subtitle">Please review your information before submitting</p>
                    
                    <div class="review-section">
                        <h3>Business Information</h3>
                        <div class="review-item">
                            <span class="review-label">Business Name:</span>
                            <span class="review-value" id="review-business-name">-</span>
                        </div>
                        <div class="review-item">
                            <span class="review-label">Registration Number:</span>
                            <span class="review-value" id="review-business-reg">-</span>
                        </div>
                        <div class="review-item">
                            <span class="review-label">Business Type:</span>
                            <span class="review-value" id="review-business-type">-</span>
                        </div>
                        <div class="review-item">
                            <span class="review-label">Contact Email:</span>
                            <span class="review-value" id="review-contact-email">-</span>
                        </div>
                    </div>
                    
                    <div class="review-section">
                        <h3>Bank Account</h3>
                        <div class="review-item">
                            <span class="review-label">Account Holder:</span>
                            <span class="review-value" id="review-account-name">-</span>
                        </div>
                        <div class="review-item">
                            <span class="review-label">Bank Name:</span>
                            <span class="review-value" id="review-bank-name">-</span>
                        </div>
                        <div class="review-item">
                            <span class="review-label">Account Number:</span>
                            <span class="review-value" id="review-account-number">-</span>
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-top: 2rem;">
                        <label class="checkbox-label">
                            <input type="checkbox" id="terms-accept" required>
                            <span>I agree to the <a href="#" style="color: var(--accent-neon-cyan);">Terms & Conditions</a> and <a href="#" style="color: var(--accent-neon-cyan);">Privacy Policy</a> *</span>
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="data-consent" required>
                            <span>I consent to the processing of my personal data for verification purposes *</span>
                        </label>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="onboarding-actions">
                    <button class="btn btn-secondary" id="onboarding-prev-btn" style="display: none;">Previous</button>
                    <button class="btn btn-primary" id="onboarding-next-btn">Next</button>
                    <button class="btn btn-primary" id="onboarding-submit-btn" style="display: none;">Submit Application</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Logo variant toggle (standalone page)
        (function initLogoSwitcherStandalone() {
            const logo = document.getElementById('paynex-logo-standalone');
            if (!logo) return;

            const variants = ['classic', 'simple', 'minimal', 'futuristic'];
            const storageKey = 'paynex_logo_variant';

            const applyHidden = (variant) => {
                logo.querySelectorAll('[data-variant]').forEach((el) => {
                    const v = el.getAttribute('data-variant');
                    el.hidden = v !== variant;
                });
            };

            const setVariant = (v) => {
                const next = variants.includes(v) ? v : 'classic';
                logo.setAttribute('data-logo-variant', next);
                applyHidden(next);
                try { localStorage.setItem(storageKey, next); } catch (_) {}
            };

            const getStored = () => {
                try { return localStorage.getItem(storageKey); } catch (_) { return null; }
            };

            setVariant(getStored() || 'classic');

            const cycle = () => {
                const current = logo.getAttribute('data-logo-variant') || 'classic';
                const idx = variants.indexOf(current);
                const next = variants[(idx + 1) % variants.length];
                setVariant(next);
            };

            logo.addEventListener('click', cycle);
            logo.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    cycle();
                }
            });
        })();

        // Onboarding Functionality
        let currentStep = 1;
        const totalSteps = 4;
        const nextBtn = document.getElementById('onboarding-next-btn');
        const prevBtn = document.getElementById('onboarding-prev-btn');
        const submitBtn = document.getElementById('onboarding-submit-btn');

        // File upload handlers
        function setupFileUpload(inputId, nameId) {
            const input = document.getElementById(inputId);
            const nameDisplay = document.getElementById(nameId);
            
            if (input && nameDisplay) {
                input.addEventListener('change', function(e) {
                    if (this.files && this.files.length > 0) {
                        if (this.multiple) {
                            nameDisplay.textContent = `${this.files.length} file(s) selected`;
                        } else {
                            nameDisplay.textContent = this.files[0].name;
                        }
                    } else {
                        nameDisplay.textContent = '';
                    }
                });
            }
        }

        setupFileUpload('bank-statement', 'bank-statement-name');
        setupFileUpload('business-cert', 'business-cert-name');
        setupFileUpload('ic-passport', 'ic-passport-name');
        setupFileUpload('proof-address', 'proof-address-name');
        setupFileUpload('additional-docs', 'additional-docs-name');

        function showStep(step) {
            // Hide all steps
            document.querySelectorAll('.onboarding-step').forEach(s => {
                s.classList.remove('active');
                s.style.display = 'none';
            });
            document.querySelectorAll('.progress-step').forEach(s => s.classList.remove('active', 'completed'));
            
            // Show current step
            const currentStepEl = document.getElementById(`step-${step}`);
            if (currentStepEl) {
                currentStepEl.classList.add('active');
                currentStepEl.style.display = 'block';
            }
            
            // Update progress
            for (let i = 1; i <= step; i++) {
                const progressStep = document.querySelector(`.progress-step[data-step="${i}"]`);
                if (progressStep) {
                    if (i < step) {
                        progressStep.classList.add('completed');
                    } else {
                        progressStep.classList.add('active');
                    }
                }
            }
            
            // Update buttons
            if (prevBtn) prevBtn.style.display = step > 1 ? 'inline-block' : 'none';
            if (nextBtn) nextBtn.style.display = step < totalSteps ? 'inline-block' : 'none';
            if (submitBtn) submitBtn.style.display = step === totalSteps ? 'inline-block' : 'none';
        }

        function validateStep(step) {
            const stepElement = document.getElementById(`step-${step}`);
            if (!stepElement) return false;
            
            const requiredFields = stepElement.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                if (field.type === 'checkbox') {
                    if (!field.checked) {
                        isValid = false;
                        field.style.borderColor = 'var(--accent-neon-pink)';
                    } else {
                        field.style.borderColor = '';
                    }
                } else if (field.type === 'file') {
                    if (!field.files || field.files.length === 0) {
                        isValid = false;
                        const uploadContainer = field.closest('.file-upload');
                        if (uploadContainer) uploadContainer.style.borderColor = 'var(--accent-neon-pink)';
                    } else {
                        const uploadContainer = field.closest('.file-upload');
                        if (uploadContainer) uploadContainer.style.borderColor = '';
                    }
                } else {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.style.borderColor = 'var(--accent-neon-pink)';
                    } else {
                        field.style.borderColor = '';
                    }
                }
            });

            return isValid;
        }

        function updateReview() {
            const setReviewValue = (id, value) => {
                const el = document.getElementById(id);
                if (el) el.textContent = value || '-';
            };

            setReviewValue('review-business-name', document.getElementById('business-name')?.value);
            const businessType = document.getElementById('business-type');
            setReviewValue('review-business-type', businessType?.options[businessType.selectedIndex]?.text);
            setReviewValue('review-business-reg', document.getElementById('business-reg')?.value);
            setReviewValue('review-contact-email', document.getElementById('contact-email')?.value);
            setReviewValue('review-account-name', document.getElementById('account-name')?.value);
            const bankName = document.getElementById('bank-name');
            setReviewValue('review-bank-name', bankName?.options[bankName.selectedIndex]?.text);
            const accountNum = document.getElementById('account-number')?.value;
            setReviewValue('review-account-number', accountNum ? '****' + accountNum.slice(-4) : null);
        }

        if (nextBtn) {
            nextBtn.addEventListener('click', function() {
                if (validateStep(currentStep)) {
                    if (currentStep < totalSteps) {
                        currentStep++;
                        if (currentStep === totalSteps) {
                            updateReview();
                        }
                        showStep(currentStep);
                    }
                } else {
                    alert('Please fill in all required fields');
                }
            });
        }

        if (prevBtn) {
            prevBtn.addEventListener('click', function() {
                if (currentStep > 1) {
                    currentStep--;
                    showStep(currentStep);
                }
            });
        }

        if (submitBtn) {
            submitBtn.addEventListener('click', function() {
                if (validateStep(currentStep)) {
                    alert('Application submitted successfully! Your application is under review. You will receive an email confirmation shortly.');
                    currentStep = 1;
                    showStep(currentStep);
                } else {
                    alert('Please complete all required fields and accept the terms');
                }
            });
        }

        // Initialize
        showStep(1);
    </script>
</body>
</html>

